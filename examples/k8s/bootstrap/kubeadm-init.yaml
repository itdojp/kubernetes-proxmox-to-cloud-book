# kubeadm init 設定（例）
#
# 注意:
# - advertiseAddress/controlPlaneEndpoint は環境に合わせて必ず変更してください
# - CNI のデフォルト（例: Calico）は podSubnet と整合させます

apiVersion: kubeadm.k8s.io/v1beta3
kind: InitConfiguration
localAPIEndpoint:
  advertiseAddress: 10.0.20.11
  bindPort: 6443
nodeRegistration:
  criSocket: unix:///run/containerd/containerd.sock

---
apiVersion: kubeadm.k8s.io/v1beta3
kind: ClusterConfiguration
clusterName: lab
controlPlaneEndpoint: "10.0.20.11:6443"
networking:
  podSubnet: 192.168.0.0/16
  serviceSubnet: 10.96.0.0/12

---
apiVersion: kubelet.config.k8s.io/v1beta1
kind: KubeletConfiguration
cgroupDriver: systemd

